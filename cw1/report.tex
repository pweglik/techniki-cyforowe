\documentclass[12pt,a4paper,openright]{mwrep}

\usepackage{lmodern}
\usepackage[T1]{polski}
\usepackage[utf8]{inputenc}

\usepackage[a4paper,
            tmargin=2cm,
            bmargin=2cm,
            lmargin=2cm,
            rmargin=2cm,
            bindingoffset=0cm]{geometry}

\usepackage{tocloft}
\usepackage{hyperref}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{siunitx}

\usepackage{listings}

\usepackage{graphicx}
\usepackage{subfig}
\usepackage{float}
\usepackage{booktabs}

\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}

\newtheorem{definition}{Def}

\begin{document}

\title{%
Technika cyfrowa\\
Sprawozdanie 1\\
}

\author{\\Jan Chyczyński\\Błażej Nowicki
\\Bartłomiej Słupik\\Przemysław Węglik}

\date{\today}

\maketitle

\chapter{Zadanie 1a}

\section{Wstęp}
Zadanie polega na zaprojektowaniu układu realizującego 
funkcję logiczną:
\begin{align*}
    Y = \overline{A}C + B(A + B)
\end{align*}
Układ można zrealizować wyłącznie dzięki użyciu bramek NAND
ponieważ bramka NAND jest systemem funkcjonalnie pełnym tzn.
korzystając wyłącznie z niej można przedstawić dowolną funkcję
boolowską.

\section{Rozwiązanie teoretyczne}
Pierwszym krokiem jest przekształcenie wyrażenie do zawierającego
wyłączenie operacje NAND.
\begin{align*}
    Y &= \overline{A}C + B(A + B) \\
    &= \overline{A}C + B \\
    &= \overline{\overline{\overline{A}C}\overline{B}}
\end{align*}

\section{Symulacja w programie Multisim}
Układ zbudowano w dwóch wersjach: pierwszej, z ręcznymi przełącznikami 
pozwalającymi na zmianę stanu A, B i C oraz drugiej, z generatorami sygnału
i oscyloskopem.

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{images/1a_circuit_simple.png}
    \caption{Układ z ręcznymi przełącznikami}
    \label{rys:1a_circuit_simple}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{images/1a_circuit_word_generator.png}
    \caption{Układ z generatorami i oscyloskopem}
    \label{rys:1a_circuit_with_generators}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{images/1a_timeseries.png}
    \caption{Przebieg czasowy sygnałów. Od góry: A, B, C, Y}
    \label{rys:1a_timeseries}
\end{figure}

\newpage
\section{Wnioski}
\begin{enumerate}
    \item Dzięki prawom logiki możemy uprosić skomplikowane wyrażenia
    w taki sposób, aby używały mniejszej ilości operacji logicznych.
    \item Przedstawienie funkcji logicznej tylko za pomocą bramek NAND
    ma praktyczne zastosowanie, ponieważ komeryjnie dostępne chipy często
    zawierają kilka bramek tego samego rodzaju (np. 4xNAND, 4xOR itp.).
    Dzięki uproszczeniu układu do bramek NAND, możemy go skonstruować
    w rzeczywistościu używając tylko jednego chipu 4xNAND zamiast
    trzech różnych: 4xNOT, 4xOR i 4xAND.
    \item Podana funkcja logiczna po drobnym przekształceniu
    \begin{align*}
        Y = \overline{A}C + B(A + B) = \overline{A}C + B
    \end{align*}
    przedstawia równanie charakterystyczne przerzutnika 
    asynchronicznego typu RS. 
    Po podstawieniach
    \begin{align*}
        A &= R\\
        B &= S\\
        C &= Q_{n-1}\\
        Y &= Q_{n}\\
    \end{align*}
        
    otrzymujemy
    \begin{align*}
        Q_{n} = S + \overline{R}Q_{n-1}
    \end{align*}
\end{enumerate}
\chapter{Zadanie 1b}
Celem zadania jest zaprojektowanie, zbudowanie i przetestowanie 
układu detekcji liczby pierwszej w binarnym słowie czterobitowym
\section{Rozwiązanie teoretyczne}
W binarnym czterobitowym słowie można zapisać liczby od 0 do 15.
Liczby pierwsze w tym zakresie to 2,3,5,7,11,13.
Przy oznaczeniach wartośći bitów A,B,C,D w kolejności od najbardziej znaczącego funkcja logiczna ma postać
\begin{align*}
    f(A,B,C,D) = \sum(2,3,5,7,11,13)
\end{align*}
W celu wyznacznie najprostrzej postacji wpisano ją w tabeli Karnough
    
\begin{table}[h!]
    \centering
    \begin{tabular}{|c|cccc|}
        \hline
        AB/CD & 00 & 01 & 10 & 11 \\
        \hline
        00 & 0 & 0 & 1 & 1 \\
        01 & 0 & 1 & 0 & 1 \\
        10 & 0 & 0 & 0 & 1 \\
        11 & 0 & 1 & 0 & 0 \\
        \hline
    \end{tabular}
    \caption{Tabela Karnough dla badanej funkcji}
\end{table}
Z tabeli można odczytać postać funkcji logicznej
\begin{align*}
    f(A,B,C,D) = \widetilde{A} \widetilde{B} C + \widetilde{A}B\widetilde{C}D 
    + AB\widetilde{C}D + A\widetilde{B}CD + \widetilde{A}BCD   \\ 
\end{align*}
Stosująć prawa przekształceń równoważnych
\begin{align*}
    f(A,B,C,D) &= \widetilde{A} \widetilde{B} C + (\widetilde{A}  
    + A)B\widetilde{C}D + A\widetilde{B}CD + \widetilde{A}BCD   \\ 
    f(A,B,C,D) &= \widetilde{A} \widetilde{B} C 
    + B\widetilde{C}D + (A\overline{B} + \overline{A}B)CD\\
\end{align*}
\section{Budowa i symulacja układu w programie mulitsim}
W celu konstrukcji układu należy przełożyć wzór funkcji na bramki logiczne.
Funkcja jest alternatywą trzech składników.
Pierwszy z nich $ \widetilde{A} \widetilde{B} C $ można reprezentować
przez bramkę NOR2 i AND2. Wyrażenie $ B\widetilde{C}D $ można zastąpić bramką NOT i AND3
a $ (A\overline{B} + \overline{A}B)CD $ jako połącznie XOR2 i AND3.
Trzy wyrażenia połączone zostały bramką logiczną OR3. 
Słowa bitowe reprezentujące testowane liczby można wprowadzać przez cztery przełączniki.
Gdy wprowadzone zostanie słowo reprezentujące liczbę pierwszą zapala się dioda.

Opisany schemat w programie multisim.
\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{images/1b_schema_1.PNG}
    \caption{Układ z ręcznymi przełącznikami}
    \label{rys:1b_usable_circuit}
\end{figure}

W celu kompleksowego przetestowania układu przyciski zamieniono na generator słów bitowych XWG1 
oraz podłączono oscyloskop pozwalający na badanie stanu logicznego pinów XLA1.
Odpowiednio dobierając częstotliwości próbkowania i generowanych sygnałów możemy zweryfikować poprawność układu.

\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{images/1b_schema_2.PNG}
    \caption{Układ testowy}
    \label{rys:1b_test_circuit}
\end{figure}
\begin{figure}[H]
    \centering
    \includegraphics[width=1\textwidth]{images/1b_result.PNG}
    \caption{Wskazania oscyloskopu}
    \label{rys:1b_test_results}
\end{figure}
Ze wskazań oscyloskopu można stwierdzić że dla każdego możliwego słowa bitowego otrzymano poprawną wartość.
Układ wygenerował stan wysoki dla słów odpowiadającym 2,3,5,7,11,13.
\section{Zastosowania}
TODO
\section{Podsumowanie}
\begin{enumerate}
    \item Funkcja logiczna została przekształcona do postaci pozwalającej na użycie jak najmniejszej ilości bramek.
    \item Układ pozwala identyfikować słowa binarne reprezentujące liczby pierwsze.
    \item Przetestowano poprawność układu stosując oscyloskop i generator słów losowych.
\end{enumerate}
\end{document}